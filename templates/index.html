<head>
    <link href="{{ url_for('static',filename='styles/style.css') }}" rel="stylesheet" type="text/css">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static',filename='files/favicon.ico') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amaranth:wght@700&family=Josefin+Sans:ital,wght@1,700&family=Mochiy+Pop+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&display=swap" rel="stylesheet">
    <title>REE Converter</title>
</head>

<body> 
    <div class="loader"></div>

    <div id="complete">
        <img src="/static/tick.png">
    </div>
  <div id="ttl">
        <h1>REE Converter</h1>
        <p>Click the box below or drag and drop your REE file</p>
    </div>
    
    <div id="convhold">
        <div id="converter">
            <form id="convform" method='POST' enctype='multipart/form-data'>
                {{form.hidden_tag()}}
                {{form.file()}}
                {{form.submit()}}
            </form>
        </div>
    </div>
    <div id="fakebox"></div>

    <div id="help">
        <h1>How to use</h1>
    </div>
    <div id="offline">
        <h1>For offline use</h1>
    </div>

    <div id="helpmodal">
        <div id="popup">
            <h1>Formatting data</h1>
            <p>Ensure that the filename is 'data' and the format is .CSV</p>
            <p>The data should have 14 columns as represented below,</p>
            <p>headers are not essential.</p>
            <div class="mockexcel">
                <div class="exhead">La</div>
                <div class="exhead">Ce</div>
                <div class="exhead">Pr</div>
                <div class="exhead">Nd</div>
                <div class="exhead">Sm</div>
                <div class="exhead">Eu</div>
                <div class="exhead">Gd</div>
                <div class="exhead">Tb</div>
                <div class="exhead">Dy</div>
                <div class="exhead">Ho</div>
                <div class="exhead">Er</div>
                <div class="exhead">Tm</div>
                <div class="exhead">Yb</div>
                <div class="exhead">Lu</div>
            </div>
            <div class="mockexcel">
                <div class="exhead">1</div>
                <div class="exhead">2</div>
                <div class="exhead">3</div>
                <div class="exhead">4</div>
                <div class="exhead">5</div>
                <div class="exhead">6</div>
                <div class="exhead">7</div>
                <div class="exhead">8</div>
                <div class="exhead">9</div>
                <div class="exhead">10</div>
                <div class="exhead">11</div>
                <div class="exhead">12</div>
                <div class="exhead">13</div>
                <div class="exhead">14</div>
            </div>
            <div class="mockexcel">
                <div class="exhead">1</div>
                <div class="exhead">2</div>
                <div class="exhead">3</div>
                <div class="exhead">4</div>
                <div class="exhead">5</div>
                <div class="exhead">6</div>
                <div class="exhead">7</div>
                <div class="exhead">8</div>
                <div class="exhead">9</div>
                <div class="exhead">10</div>
                <div class="exhead">11</div>
                <div class="exhead">12</div>
                <div class="exhead">13</div>
                <div class="exhead">14</div>
            </div>
            <p id="space">The program can convert up to 25 rows of data at once.</p>
            <p>There is a 30 second time out on conversions, larger data sets will require multiple conversions.</p>
            <p>Data will be downloaded once complete in a .zip file. Within is the normalised data as well as</p>
            <p>a folder containing figures in both .png and .svg format.</p>
        </div>
        <div id="modalclose">+</div>
    </div>

    <div id="offlinemodal">
        <div id="opopup">
            <h1>Offline use with python</h1>
            <p>Download the python file below for use offline.</p>
            <a id="pydown" href="/static/files/converter.py" download>Converter.py</a>
            <p>Create a folder containing both the 'Converter.py' and </p>
            <p>your data sheet.</p>
            <p>Navigate to your folder with shell of choice and run</p>
            <p>using 'py converter.py'.</p>
        </div>
        <div id="omodalclose">+</div>
    </div>

    

</body> 


<script>
    document.getElementById('submit').value="Convert"
</script>

<script>
    document.getElementById('help').addEventListener('click', function() {
        document.getElementById('helpmodal').style.display = 'flex';
});
</script>
<script>
    document.getElementById('modalclose').addEventListener('click', function() {
        document.getElementById('helpmodal').style.display = 'none';
});
</script>
<script>
    document.getElementById('offline').addEventListener('click', function() {
        document.getElementById('offlinemodal').style.display = 'flex';
});
</script>
<script>
    document.getElementById('omodalclose').addEventListener('click', function() {
        document.getElementById('offlinemodal').style.display = 'none';
});
</script>

<script>
    document.getElementById('submit').addEventListener('click', function() {
        document.getElementById('file').style.display = 'none';
        document.getElementById('fakebox').style.display = 'none';
        document.querySelector('.loader').style.display = 'flex'
        document.getElementById('submit').style.display = 'none';
        setTimeout(function () {
            document.querySelector('.loader').style.display = 'none'
            document.getElementById('complete').style.display = 'flex'
        }, 30000);
});
</script>